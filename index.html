<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CardÃ¡pio Digital</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
*{font-family:Poppins}
body{margin:0;background:#f4f4f5}
header{background:#18181b;color:#fff;padding:30px;text-align:center}
.produto{display:flex;gap:12px;background:#fff;padding:12px;border-radius:8px}
.produto img{width:90px;border-radius:8px}
button{cursor:pointer}
#menu{display:grid;grid-template-columns:1fr;gap:15px;padding:15px}
footer{position:fixed;bottom:0;width:100%;background:#dc2626;color:#fff;padding:12px;text-align:center}
#cart-modal{position:fixed;inset:0;background:#00000080;display:none;align-items:center;justify-content:center}
.cart-box{background:#fff;padding:20px;border-radius:10px;width:90%;max-width:400px}
</style>
</head>

<body>

<header>
<h1>NOME DA LOJA</h1>
<p>NOME DA RUA</p>
<p>Seg Ã  Dom â€¢ 07:00 Ã s 00:00</p>
</header>

<main id="menu">

<div class="produto">
<img src="https://via.placeholder.com/100">
<div>
<b>X-Burger</b>
<p>HambÃºrguer artesanal</p>
<b>R$ 10,00</b><br>
<button onclick="add('X-Burger',10)">ðŸ›’ Adicionar</button>
</div>
</div>

<div class="produto">
<img src="https://via.placeholder.com/100">
<div>
<b>Refrigerante</b>
<p>Lata 350ml</p>
<b>R$ 5,00</b><br>
<button onclick="add('Refrigerante',5)">ðŸ›’ Adicionar</button>
</div>
</div>

</main>

<footer>
<button onclick="openCart()">
ðŸ›’ Carrinho (<span id="count">0</span>)
</button>
</footer>

<!-- MODAL -->
<div id="cart-modal">
<div class="cart-box">
<h3>Meu Carrinho</h3>
<div id="items"></div>
<p><b>Total: R$ <span id="total">0.00</span></b></p>

<input id="nome" placeholder="Seu nome" style="width:100%;margin:5px 0">
<input id="endereco" placeholder="EndereÃ§o" style="width:100%;margin:5px 0">

<select id="pagamento" style="width:100%;margin:5px 0">
<option>Pix</option>
<option>CartÃ£o</option>
<option>Dinheiro</option>
</select>

<button onclick="finalizar()" style="background:#16a34a;color:#fff;width:100%;padding:10px;border:none;border-radius:6px">
Finalizar Pedido
</button>

<button onclick="closeCart()" style="width:100%;margin-top:8px">Fechar</button>
</div>
</div>

<script>
const { jsPDF } = window.jspdf;
let cart=[];

function add(nome,preco){
let item=cart.find(i=>i.nome==nome);
item?item.qtd++:cart.push({nome,preco,qtd:1});
update();
}

function update(){
document.getElementById("items").innerHTML="";
let total=0,count=0;
cart.forEach(i=>{
total+=i.preco*i.qtd;
count+=i.qtd;
document.getElementById("items").innerHTML+=
`<p>${i.qtd}x ${i.nome} - R$ ${(i.preco*i.qtd).toFixed(2)}</p>`;
});
document.getElementById("total").innerText=total.toFixed(2);
document.getElementById("count").innerText=count;
}

function openCart(){document.getElementById("cart-modal").style.display="flex"}
function closeCart(){document.getElementById("cart-modal").style.display="none"}

function finalizar(){
let nome=document.getElementById("nome").value||"Cliente";
let end=document.getElementById("endereco").value;
let pag=document.getElementById("pagamento").value;
if(!end){alert("Digite o endereÃ§o");return}

let doc=new jsPDF();
let y=10;
doc.text("NOME DA LOJA",105,y,{align:"center"});
y+=8;
doc.text(`Cliente: ${nome}`,10,y); y+=6;
doc.text(`EndereÃ§o: ${end}`,10,y); y+=6;
doc.text(`Pagamento: ${pag}`,10,y); y+=8;

cart.forEach(i=>{
doc.text(`${i.qtd}x ${i.nome} - R$ ${(i.preco*i.qtd).toFixed(2)}`,10,y);
y+=6;
});

doc.text(`TOTAL: R$ ${document.getElementById("total").innerText}`,10,y+5);
doc.save("cupom-fiscal.pdf");

let msg=`Pedido%n%0A`;
cart.forEach(i=>msg+=`${i.qtd}x ${i.nome}%0A`);
msg+=`Total: R$ ${document.getElementById("total").innerText}`;
window.open(`https://wa.me/5599999999999?text=${msg}`);
}
</script>

</body>
</html>
